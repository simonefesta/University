LEZIONE MERCATI FINANZIARI 17/03/2023
Oggi iniziamo a vedere un pò di serie storiche, cercando di legarle anche ai mercati finanziari.
R markdown consente di passare da file per R a file html. Visto un file html "essentials of time series analysis..." caricato su Teams.
Nell'html, troviamo "Forecasting: Principles and Practice", che è un valido aiuto (un pò troppo essenziale a detta del prof) per un primo approccio.
E' presente seconda e terza edizione, ma nella terza il linguaggio R e' più avanzato.

min 7:22 - cosa è una serie storica?

Una successione indicizzata temporalmente di vettori nello spazio reale N-dimensionale.
Perchè vettori? Perchè nella serie storica cerco di condensare un certo numero di informazioni, come ad esempio dati atmosferici.
Prendo un punto della città di Roma, misuro temperatura, pressione, umidità, e li condenso in un vettore. Faccio tali misure oggi, domani, dopodomani etc
ovvero una successione di vettori. Per pura comodità si prendono indici temporali equispaziali (ovvero ogni secondo, ogni ora, ogni 6 mesi etc... tutti uguali).
Ciò consente di analizzare le stagionalità della serie storica. 
In CPS abbiamo analizzato dati provenienti da collezioni in cui il tempo era irrilevante (come prendere altezza e peso delle persone).
Nelle serie storiche l'ordine temporale è essenziale, e se ci accorgiamo che tale ordine non conta, abbiamo particolarissime serie storiche dette "white-noise", che sono mattoni fondamentali della modellazione. Una serie storica consiste nel prendere la nostra serie di dati, cercare di creare modello che in ultima analisi dipende da una successione temporale in cui la successione temporale non ha alcun ruolo. I modelli che vedremo dipenderanno da serie storica che non è dipendente dal tempo, essa sarà la base di qualunque serie storica.
Partiremo quindi da "Let (x(t) ) t c T = x be an N-variate real time-series (vedi file html).

min 15:48 - Grafico serie storica
Un grafico di una serie storica è una "linea" del piano tempo-spazio, dove il tempo scorre sulle ascisse, e il dato sull'ordinata, anche se parlando di vettori non è proprio correttissimo parlare di ascisse ed ordinata, ma comunque noi le scomponiamo e quindi possiamo vederrle in questo modo.

Esempio 1.1 - serie bernoulli standard
lancio moneta, registro esito (testa = 1, croce = 0) e continuo a fare questa successione di lanci. L'indice temporale è l'ordine del lancio (possiamo pensare di lanciare ogni minuto, ogni due etc...). Posso vederlo come serie storica. Il fatto che il tempo sia irrilevante sembra banale, ma proprio per questo tale serie è importante, ed è fondamentale per creare altre serie storiche. E' un white-noise? NO, perchè i white noise hanno media nulla, ma a parte questo dettaglio lo sarebbe.

min 19:55 - il prof ci fa vedere lo snippet di codice di bernoulli, che inizia con "lenght <- 150".
Viene fatto anche scatter plot, e prodotti i risultati (grafici rosso verde blu). Dipendono da tre 'semi' diversi. La struttura è molto simile, ciò è un indizio che il tempo non giochi un ruolo. Non riesco, dato il grafico, a capire quale seme ho usato, a prima vista i grafici sembrano simili, anche se individualmente sono tutti diversi. Questo è un primo esempio per introdurre i processi stocastici.

min 23:23 - vedi foglio 1
Attenzione: parto sempre da Omega e vado in R quando t = 1, parto da Omega e vado in un 'altro' R quando t = 2, ma NON PASSO da R per t = 1 all' 'altro' R quando t = 2.
SI parte SEMPRE da Omega, e si cade in un R per un certo t.
vedi foglio 2
Ciò che si vedono, sono le traiettorie di un processo stocastico, le successioni di v.a. sono interpretabili come processi stocastici.


min 32:45 - ritorniamo ai grafici
Nei tre grafici ho tre traiettorie dello stesso processo stocastico del lancio della moneta. Posso scegliere quantità infinita di semi, per ciascun seme ci sarà una traiettoria. Lo spazio di probabilità è lo spazio dei semi, la scelta del punto campionario è la scelta del seme. Perchè processo stocastico è lo stesso? perchè tutte queste v.a. le vediamo come successioni di v.a. (foglio 3). Ciascuna X(t) è Ber(1/2) e la successione è indipendente.
Sarebbe un white-noise "FORTE" solo se avesse anche la media = 0. Potrei togliere l'eccesso e riportarmi a un caso con media 0.

min 39:51
Abbiamo visto a CPS che esiste la Dirac che è ancora più semplice. Che caratteristiche aveva? Come rappresento processo stocastico di Dirac? foglio 4
La caratteristica fondamentale è che nel processo stocastico di Dirac ho sempre un' UNICA TRAIETTORIA, un'unica linea. la costanza è rispetto a 'w' (omega piccolo), ovviamente può cambiare rispetto a t1, t2, etc ma per tutti gli w a t1 sarà stesso valore, per tutti gli w a t2 sarà un altro valore (non per forza saranno uguali i valori assunti a t1 e t2). Nei processi stocastici non di Dirac, come visto prima, non ho una sola linea, bensì più linee. Quante linee? quanti sono gli 'w' (omega piccolo) che prendo.

min 45:45
parallelismo con lancio di un grave, ovvero la parabola capovolta. Esso ha formula x(t) = x0 - 1/2 g*t^2.
E' ottima approssimazione, istante per istante posso verificare la posizione. E' un processo deterministico. E' un processo di Dirac!
Al variare di t cambiano, ma al variare di omega sono sempre le stesse.
Se faccio cadere un oggetto più leggero, la traiettoria cambia (la "piuma" un pò volteggia, il sasso no). Da cosa dipende? dall'attrito dell'aria. Nel sasso è trascurabile poichè ha massa concentrata in un piccolo volume, nella piuma no. foglio 5
Il processo stocastico è influenzato da effetti esterni, la cui traiettoria presa può essere analizzata solo alla fine.

min 51:54
ATTENZIONE: 0 e 1 nella bernulliana sono GLI STATI, le realizzazioni della V.A, non gli omega piccoli. Gli omega sono i 'semi' che fissiamo.
w1 = setseed(12345)  allora X1(w1) = 0 or 1
fissato questo seed 12345, prenderà sempre stesso valore in X1(w1) (ad esempio 0, ma prenderà sempre 0), stesso valore in X2(w1) (se prende 1, prenderà sempre 1 per quel determinato seme). Il seme non lo cambio.
Nei grafici dell'html, il singolo grafico è una singola realizzazione di un singolo seme, che assume stati 0 e 1.
vedi foglio 6

min 1:00:00 - esempio mercati finanziari - foglio 7 - prezzo petrolio
il prezzo tra una settimana non posso prevederlo in anticipo. Se Putin lancia una bomba, o se Biden affonda metà flotta russa, ciò influenzano il prezzo del petrolio.
La traiettoria FUTURA NON ESISTE, esistono tante traiettorie future che dipendono dall'esito di eventi aleatori che NESSUNO CONOSCE.
Il futuro di una serie storica, non devo pensare a una traiettoria ben definita nel futuro. Ne posso prevedere diverse.
Se noi siamo bravi a a scrivere il modello che rappresenta la serie storica nel passato, ciò ci guida nella scelta del processo stocastico che ci guida.
Cioè se scelgo bene il processo posso prevedere media che rappresenta l'evoluzione MEDIA del processo (stima puntuale della traiettoria futura), oltre a traiettorie che con una certa confidenza ci diranno dove andrà a finire il prezzo del petrolio. (bande di predizione).
Nei mercati finanziari c'è una tendenza a "influenzare il fenomeno", che non c'è nella fisica. Nella fisica cerco di non interagire nell'esperimento, nei mercati cerco di influenzarlo per averne un ritorno personale. Guardo al futuro del petrolio per trarne un vantaggio. Ciò genera fenomeni particolari che hanno portato a tecniche per gestire questo tipo di fenomeni. Faremo analisi di tipo generali, come analisi del meteo etc... per poi introdurci nei mercati finanziari.

min 1:12:15 - ritorniamo alle note - fenomeno del conteggio (example 1.2)
mi metto a sommare tutti i valori ottenuti dalla serie storica. Nel caso bernoulli farò somma dei valori usciti per ogni tempo. Cioè, dato y(t) sommerò gli esiti con tempi da 0 a t. Ciò ci introduce al random walk, che nasce da un processo che non ha media nulla, e quindi ha una deriva detta anche drift, non ha trend deterministico.
In R c'è comando 'cumsum', successivamente vediamo un grafico con tre traiettorie (grafico prima di example 1.3), che evidenzia un trend/andamento molto particolare: non è deterministico, bensì stocastico. E' una deriva "casuale", perchè le v.a. che sommo non hanno media 0. E' la deriva media di questo processo. 

min 1:17 - prendiamo rademacher, che hanno media 0.
in termini di conteggio le cose cambiano radicalmente, infatti avendo media nulla, iniziano a diffondersi nello spazio senza direzione precisa (traiettoria rossa cresce, verde decresce). La varianza aumenta, ma mediamente resta costante nello spazio. Questo è primo processo stocastico di una certa importanza, in quanto è un RANDOM WALK A MEDIA NULLA.

Visto velocemente grafico prima dell'esempio 1.7, sostanzialmente cambia la v.a., infatti dopo ci fa vedere un esempio con la Poisson, in cui non c'è un upper bound, potrebbe venire anche un milione (ma con probabilità piccolissima), quindi vedremo sempre valori in una certa fascia. E' come dire: probabilità che mi arrivino 1 milione di messaggi è molto piccola, ma non è 0.
Visto velocemente anche le gaussiane standard al volo. Simili alle rademacher (discretizzazione forte delle gaussiane std)

min 1:23 - funzionamento random walk gaussiano
foglio 8

il grafico dipende da w1. Se aggiungessi w2, avrei un'altra traiettoria. Se uso solo w1, ho una sola traiettoria, che assume punti X1(w1) = pigreco, X2(w1 = pigreco - 1/2 etc

FINE.


